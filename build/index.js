!function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(t,e){t.exports=require("path")},function(t,e){t.exports=require("fs")},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class a extends Error{constructor(t,e,r){super(t),this.inner=r,this.id=e,this.name=this.constructor.name}toString(){const t=this.name+": "+this.message;return this.inner?t+":\n"+this.inner:t}}e.NestedError=a;e.DatabaseError=class extends a{};e.DataError=class extends a{}},function(t,e,r){const{dirname:a}=r(0),n=(t,e,r)=>{e.recursive=!1;const i=a(t);return i===t?e.mkdirAsync(t,e).catch(t=>{if("EISDIR"!==t.code)throw t}):e.mkdirAsync(t,e).then(()=>r||t,a=>{if("ENOENT"===a.code)return n(i,e).then(r=>n(t,e,r));if("EEXIST"!==a.code&&"EROFS"!==a.code)throw a;return e.statAsync(t).then(t=>{if(t.isDirectory())return r;throw a},()=>{throw a})})},i=(t,e,r)=>{const n=a(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(t){if("EISDIR"!==t.code)throw t;return}try{return e.mkdirSync(t,e),r||t}catch(a){if("ENOENT"===a.code)return i(t,e,i(n,e,r));if("EEXIST"!==a.code&&"EROFS"!==a.code)throw a;try{if(!e.statSync(t).isDirectory())throw a}catch(t){throw a}}};t.exports={mkdirpManual:n,mkdirpManualSync:i}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=r(2);e.arrayRegex=()=>/^([\.0-9a-zA-Z_$\-][0-9a-zA-Z_\-$\.]*)\[((?!(\]|\[)).*|)\]$/gm;const n={};class i{constructor(t,e){if(this.index=0,this.append=!1,this.property=t,this.append=""===e,r=e,isNaN(r)||Number(r)!=r||isNaN(parseInt(r,10))){if(!this.append)throw new a.DataError("Only numerical values accepted for array index",200)}else this.index=parseInt(e);var r}static processArray(t){if(void 0===t)return null;if(n[t])return n[t];const r=e.arrayRegex().exec(t.trim());return null!=r?n[t]=new i(r[1],r[2]):null}getIndex(t,e){if(void 0===e&&(e=!1),this.append)return-1;const r=this.index;if(-1==r){const r=e?t:t[this.property];return 0===r.length?0:r.length-1}return r}getData(t){if(this.append)throw new a.DataError("Can't get data when appending",100);const e=this.getIndex(t);return t[this.property][e]}setData(t,e){if(this.append)t[this.property].push(e);else{const r=this.getIndex(t);t[this.property][r]=e}}delete(t){if(this.append)throw new a.DataError("Can't delete an appended data",10);const e=this.getIndex(t);t[this.property].splice(e,1)}isValid(t){const e=this.getIndex(t);return t[this.property].hasOwnProperty(e)}}e.ArrayInfo=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Config=class{constructor(t,e=!0,r=!1,a="/"){this.filename=t,t.endsWith(".json")||(this.filename+=".json"),this.humanReadable=r,this.saveOnPush=e,this.separator=a}}},function(t,e,r){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.phrases=e.communication=e.config=void 0;const n=a(r(7)),i=r(9),s=r(5);e.config=n.default(),e.communication=new i.JsonDB(new s.Config("./myDataBase/communication",!0,!1,"/")),e.phrases=new i.JsonDB(new s.Config("./myDataBase/sidPhrases",!0,!1,"/"))},function(t,e,r){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=a(r(8));e.default=()=>({main:n.default})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=()=>({url:"123",testAddresses:["123","124"],transferAmount:100,replenishmentLimit:500})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=r(10),n=r(1),i=r(0),s=r(11),o=r(2),c=r(18),h=r(4),d=r(5);e.JsonDB=class{constructor(t,e=!0,r=!1,a="/"){if(this.loaded=!1,this.data={},t instanceof d.Config?this.config=t:this.config=new d.Config(t,e,r,a),!n.existsSync(this.config.filename)){const t=i.dirname(this.config.filename);s.sync(t),this.save(!0),this.loaded=!0}}processDataPath(t){if(void 0===t||!t.trim())throw new o.DataError("The Data Path can't be empty",6);if(t==this.config.separator)return[];const e=(t=a.removeTrailingChar(t,this.config.separator)).split(this.config.separator);return e.shift(),e}retrieveData(t,e=!1){this.load();const r=this,a=(n,i)=>{let s=t[i];function c(a=!1){if(n.hasOwnProperty(s))n=n[s];else{if(!e)throw new o.DataError(`Can't find dataPath: ${r.config.separator}${t.join(r.config.separator)}. Stopped at ${s}`,5);n[s]=a?[]:{},n=n[s]}}const d=h.ArrayInfo.processArray(s);if(d){if(s=d.property,c(!0),!Array.isArray(n))throw new o.DataError(`DataPath: ${r.config.separator}${t.join(r.config.separator)}. ${s} is not an array.`,11);const a=d.getIndex(n,!0);if(!d.append&&n.hasOwnProperty(a))n=n[a];else{if(!e)throw new o.DataError(`DataPath: ${r.config.separator}${t.join(r.config.separator)}. . Can't find index ${d.index} in array ${s}`,10);d.append?(n.push({}),n=n[n.length-1]):(n[a]={},n=n[a])}}else c();return t.length==++i?n:a(n,i)};return 0===t.length?this.data:a(this.data,0)}getParentData(t,e){const r=this.processDataPath(t),a=r.pop();return new c.DBParentData(this.retrieveData(r,e),this,t,a)}getData(t){const e=this.processDataPath(t);return this.retrieveData(e,!1)}exists(t){try{return this.getData(t),!0}catch(t){if(t instanceof o.DataError)return!1;throw t}}count(t){const e=this.getData(t);if(!Array.isArray(e))throw new o.DataError(`DataPath: ${t} is not an array.`,11);const r=this.processDataPath(t);return this.retrieveData(r,!1).length}getIndex(t,e,r="id"){const a=this.getData(t);if(!Array.isArray(a))throw new o.DataError(`DataPath: ${t} is not an array.`,11);const n=this.processDataPath(t);return this.retrieveData(n,!1).map((function(t){return t[r]})).indexOf(e)}filter(t,e){const r=this.getData(t);if(Array.isArray(r))return r.filter(e);if(r instanceof Object){const t=Object.entries(r).filter(t=>e(t[1],t[0]));if(!t||t.length<1)return;return t.map(t=>t[1])}throw new o.DataError("The entry at the path ("+t+") needs to be either an Object or an Array",12)}find(t,e){const r=this.getData(t);if(Array.isArray(r))return r.find(e);if(r instanceof Object){const t=Object.entries(r).find(t=>e(t[1],t[0]));if(!t||t.length<2)return;return t[1]}throw new o.DataError("The entry at the path ("+t+") needs to be either an Object or an Array",12)}push(t,e,r=!0){const n=this.getParentData(t,!0);if(!n)throw new Error("Data not found");let i=e;if(!r)if(Array.isArray(e)){let t=n.getData();if(void 0===t)t=[];else if(!Array.isArray(t))throw new o.DataError("Can't merge another type of data with an Array",3);i=t.concat(e)}else if(e===Object(e)){if(Array.isArray(n.getData()))throw new o.DataError("Can't merge an Array with an Object",4);i=a.merge(n.getData(),e)}n.setData(i),this.config.saveOnPush&&this.save()}delete(t){const e=this.getParentData(t,!0);e&&(e.delete(),this.config.saveOnPush&&this.save())}resetData(t){this.data=t}reload(){this.loaded=!1,this.load()}load(){if(!this.loaded)try{const t=n.readFileSync(this.config.filename,"utf8");this.data=JSON.parse(t),this.loaded=!0}catch(t){throw new o.DatabaseError("Can't Load Database",1,t)}}save(t){if(!(t=t||!1)&&!this.loaded)throw new o.DatabaseError("DataBase not loaded. Can't write",7);let e="";try{e=this.config.humanReadable?JSON.stringify(this.data,null,4):JSON.stringify(this.data),n.writeFileSync(this.config.filename,e,"utf8")}catch(t){throw new o.DatabaseError("Can't save the database",2,t)}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.merge=(...t)=>{const r={};return t.forEach((function(t){var a;for(a in t)a in r&&null===r[a]?r[a]=t[a]:a in r&&Array.isArray(r[a])?r[a]=r[a].concat(t[a]):a in r&&"object"==typeof r[a]?r[a]=e.merge(r[a],t[a]):r[a]=t[a]})),r},e.removeTrailingChar=(t,e)=>t.length>1&&t.endsWith(e)?t.substring(0,t.length-1):t},function(t,e,r){const a=r(12),n=r(14),{mkdirpNative:i,mkdirpNativeSync:s}=r(15),{mkdirpManual:o,mkdirpManualSync:c}=r(3),{useNative:h,useNativeSync:d}=r(17),f=(t,e)=>(t=n(t),e=a(e),h(e)?i(t,e):o(t,e));f.sync=(t,e)=>(t=n(t),e=a(e),d(e)?s(t,e):c(t,e)),f.native=(t,e)=>i(n(t),a(e)),f.manual=(t,e)=>o(n(t),a(e)),f.nativeSync=(t,e)=>s(n(t),a(e)),f.manualSync=(t,e)=>c(n(t),a(e)),t.exports=f},function(t,e,r){const{promisify:a}=r(13),n=r(1);t.exports=t=>{if(t)if("object"==typeof t)t={mode:511,fs:n,...t};else if("number"==typeof t)t={mode:t,fs:n};else{if("string"!=typeof t)throw new TypeError("invalid options argument");t={mode:parseInt(t,8),fs:n}}else t={mode:511,fs:n};return t.mkdir=t.mkdir||t.fs.mkdir||n.mkdir,t.mkdirAsync=a(t.mkdir),t.stat=t.stat||t.fs.stat||n.stat,t.statAsync=a(t.stat),t.statSync=t.statSync||t.fs.statSync||n.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||n.mkdirSync,t}},function(t,e){t.exports=require("util")},function(t,e,r){const a=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:n,parse:i}=r(0);t.exports=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=n(t),"win32"===a){const e=/[*|"<>?:]/,{root:r}=i(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t}},function(t,e,r){const{dirname:a}=r(0),{findMade:n,findMadeSync:i}=r(16),{mkdirpManual:s,mkdirpManualSync:o}=r(3);t.exports={mkdirpNative:(t,e)=>{e.recursive=!0;return a(t)===t?e.mkdirAsync(t,e):n(e,t).then(r=>e.mkdirAsync(t,e).then(()=>r).catch(r=>{if("ENOENT"===r.code)return s(t,e);throw r}))},mkdirpNativeSync:(t,e)=>{e.recursive=!0;if(a(t)===t)return e.mkdirSync(t,e);const r=i(e,t);try{return e.mkdirSync(t,e),r}catch(r){if("ENOENT"===r.code)return o(t,e);throw r}}}},function(t,e,r){const{dirname:a}=r(0),n=(t,e,r)=>r===e?Promise.resolve():t.statAsync(e).then(t=>t.isDirectory()?r:void 0,r=>"ENOENT"===r.code?n(t,a(e),e):void 0),i=(t,e,r)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(r){return"ENOENT"===r.code?i(t,a(e),e):void 0}};t.exports={findMade:n,findMadeSync:i}},function(t,e,r){const a=r(1),n=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),i=+n[0]>10||10==+n[0]&&+n[1]>=12,s=i?t=>t.mkdir===a.mkdir:()=>!1,o=i?t=>t.mkdirSync===a.mkdirSync:()=>!1;t.exports={useNative:s,useNativeSync:o}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=r(4),n=r(2);e.DBParentData=class{constructor(t,e,r,a){this.parent=a,this.data=t,this.db=e,this.dataPath=r}checkArray(t=!1){const e=a.ArrayInfo.processArray(this.parent);if(e&&(!e.append||t)&&!e.isValid(this.data))throw new n.DataError("DataPath: /"+this.dataPath+". Can't find index "+e.index+" in array "+e.property,10);return e}getData(){if(void 0===this.parent)return this.data;const t=this.checkArray();return t?t.getData(this.data):this.data[this.parent]}setData(t){if(void 0===this.parent)return void this.db.resetData(t);const e=a.ArrayInfo.processArray(this.parent);if(e){if(this.data.hasOwnProperty(e.property)){if(!Array.isArray(this.data[e.property]))throw new n.DataError("DataPath: /"+this.dataPath+". "+e.property+" is not an array.",11)}else this.data[e.property]=[];e.setData(this.data,t)}else this.data[this.parent]=t}delete(){if(void 0===this.parent)return void this.db.resetData({});const t=this.checkArray(!0);t?t.delete(this.data):delete this.data[this.parent]}}}]);